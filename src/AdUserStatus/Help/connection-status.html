<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Help - Connection Status</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
<div class="header column">
  <div class="app-title">
    <img src="images/binoculars.png" alt="ADUserStatus logo" width="36" height="36" />
    <span class="app-name">ADUserStatus</span>
  </div>
  <h1 class="page-title">Connection Status (LDAP/LDAPS)</h1>
</div>
  <div class="container">
    <div class="card">
	  <h2>How Domain Controllers Are Discovered</h2>
	  <p>
    When the application starts or attempts an LDAP/LDAPS connection, it automatically discovers
    available <strong>Domain Controllers (DCs)</strong> using DNS SRV records published by Active Directory.
  </p>

	  <p>The discovery process follows standard <strong>Active Directory DNS service location (SRV)</strong> queries:</p>

	  <ul>
		<li>Queries the local DNS for <code>_ldap._tcp.dc._msdcs.&lt;domain&gt;</code> records.</li>
		<li>Each SRV record provides hostnames and ports of available domain controllers.</li>
		<li>From the returned list, the application selects the first reachable controller.</li>
		<li>If multiple controllers respond, the closest one (based on DNS order or connection success) is used.</li>
	  </ul>

	  <p class="note">
		<strong>Information:</strong> This DNS-based lookup ensures that the app does not require hardcoded DC names. It uses the same mechanism Windows clients rely on for locating authentication and directory services.
	  </p>

	  <p class="tip">
		<strong>Tip:</strong> If the network or DNS settings are misconfigured, discovery may fail or return a controller outside your preferred site. In such cases, check SRV records with: <br><code>nslookup -type=SRV _ldap._tcp.dc._msdcs.yourdomain.local</code>
	  </p>
	</div>
	<div class="card">
	  <h2>Understanding LDAP &amp; LDAPS Connections</h2>
	  <p>
	    The application communicates with Active Directory using standard <strong>LDAP (port 389)</strong> or <strong>LDAPS (port 636)</strong> protocols. During startup, it automatically tests both connection types and displays the connection status in the footer bar.
	  </p>
	  <p>
	    The status indicator shows whether the app is connected via <strong>LDAPS (secure)</strong> or <strong>LDAP (insecure)</strong>, along with the name of the discovered domain controller and the port number in use. When LDAPS is available, it is always preferred for encrypted communication.
	  </p>
		
	  <div class="figure">
	    <img src="images/LDAP.png" alt="Example LDAP connection status" />
	    <div class="caption"><i><strong>LDAP (insecure)</strong> — performs directory queries over an unencrypted network connection.</i></div>
	  </div>
      <br>
  	  <div class="figure">
  	    <img src="images/LDAPS.png" alt="Example LDAPS connection status" />
	    <div class="caption"><i><strong>LDAPS (secure)</strong> — encrypts all directory traffic using TLS; recommended for production environments.</i></div>
	  </div>
	<p class="note"><strong>Information:</strong> If LDAPS (636) is unavailable, the app will failback and attempt LDAP (389).</p>
  </div>
</div>
<div class="footer">
  <a href="index.html" class="button-link">← Back Home</a>
</div>
</body>
</html>